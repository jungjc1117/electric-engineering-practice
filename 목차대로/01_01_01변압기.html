<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <style>
      /* 테이블 스타일 */
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th,
      td {
        border: 1px solid black;
        padding: 8px;
        vertical-align: top; /* 셀 내용이 상단에 정렬되도록 함 */
      }
      td:first-child {
        width: 80%;
      }
      img {
        max-width: 100%; /* 이미지가 셀 너비를 넘지 않도록 조정 */
        height: auto;
      }
      textarea.image-content {
        width: 100%;
        height: 100px;
        box-sizing: border-box;
        resize: none;
      }
      .container {
        display: flex;
        flex-wrap: nowrap;
        height: 100vh; /* 뷰포트 높이의 80%로 설정하여 스크롤이 생기도록 함 */
      }

      .container1 {
        width: 80%;
        overflow: auto; /* 내용이 넘칠 때 스크롤 */
        box-sizing: border-box; /* 패딩과 보더가 너비에 포함되도록 설정 */
      }

      .container2 {
        width: 20%;
        overflow: auto; /* 내용이 넘칠 때 스크롤 */
        box-sizing: border-box;
      }
      /* 하단 텍스트 박스 스타일 */
      #srcList {
        width: 100%;
        height: 200px;
        margin-top: 20px;
        box-sizing: border-box;
        resize: none;
      }
      #srcListCode {
        width: 100%;
        height: 200px;
        margin-top: 20px;
        box-sizing: border-box;
        resize: none;
      }
      .button-container {
        margin-top: 10px;
        display: flex;
        gap: 10px;
      }
      .button-container button {
        padding: 8px 16px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="container1">
        <table border="1">
          <tbody>
            <tr>
              <td>
                <img
                  src="..\images\2020_1_04.png"
                  alt="단상변압기 용량 산정: 단상변압기, △-△ 결선, 병렬운전, 공급용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2019_3_11.png"
                  alt="변압기 용량: 전동기 부하, 전열기 부하, 역률, 단상 변압기, 표준용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2019_3_04.png"
                  alt="단권변압기 V결선: 단권변압기, V결선, 승압기, 자기용량, 부하용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2019_3_05.png"
                  alt="변압기 단락시험: 단락시험, 임피던스 전압, 임피던스 와트, 단락전류, 유도전압조정기"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2012_1_05_1.png"
                  alt="주상변압기, 무부하시험"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2019_3_02.png"
                  alt="변압기 용량: 부하설비, 수용률, 부등률, 종합역률, 표준용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2019_1_07.png"
                  alt="변압기 용량 산정: 전등부하, 동력부하, 하계/동계부하, 부등률, 역률, 여유율, 표준용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2019_1_01.png"
                  alt="변압기 용량: V결선, 단상변압기, 3상 유도전동기, 역률, 효율, 표준용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2018_3_07.png"
                  alt="154kV 수용가 수전설비: 변압기 용량, 수용률, 부하역률, CT 비율, SF₆ 가스, OCB 차단용량, 계전기 임피던스"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2018_1_06.png"
                  alt="변압기 계산: 권수비, 2차전압, 부하전류, 역률, 정격용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2018_1_09.png"
                  alt="변압기 용량 선정: 역률, 부하종류, △결선, V결선, 과부하율, 동손비교"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2017_3_15.png"
                  alt="변압기 부하율과 효율: 부하곡선, 사용전력량, 전손실, 전일효율, 철손·동손"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2017_2_15.png"
                  alt="변전소 수변전설비: 변압기 용량, 차단기 용량, 87T(차동계전기), 51(과전류계전기), 내부임피던스"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2017_1_14.png"
                  alt="변압기 및 차단기 용량: 부하용량, 역률, 효율, 수용률, 표준용량, 정격전류"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2016_3_06.png"
                  alt="변압기 용량 산정: 개별 최대전력, 부등률, 역률, 표준용량, 단상 변압기"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2016_3_11.png"
                  alt="특고압 수전설비: AISS, 피뢰기 정격, DISC 기능, MOF 정격, Mold TR 장단점, ACB 명칭, CT비"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2016_2_03.png"
                  alt="변압기 손실과 효율: 무부하손, 철손, 부하손, 동손, 효율 공식, 최대효율 조건"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2016_1_09.png"
                  alt="변연장 변압기: 3상 승압, 단상변압기 3대, 1차·2차 전압, 변압기 용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2016_1_11.png"
                  alt="변압기 용량 산정: 수용률, 부등률, 종합부하율, 최대수요전력, 평균수요전력"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2016_1_07.png"
                  alt="단권변압기: 공통권선, 장점·단점, 누설임피던스, 승압·강압, 기동보상기"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2015_3_13.png"
                  alt="배전용 변압기 탭조정: 전압강하 보정, 1차측 탭, 부하단자 전압 일정, 거리 보상"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2015_3_10.png"
                  alt="변압기 부하 계산: 역률 개선, 진상콘덴서, 부하전력, 변압기 부하 감소"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2015_3_05.png"
                  alt="변압기 오결선: 변압비 오류, 전압계 지시값, 접속 실수, 단자전압 계산"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2015_1_14.png"
                  alt="변압기 손실과 효율: 철손, 동손, 운전시간, 부하조건, 하루 총손실"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2014_2_01.png"
                  alt="변압기 병렬운전 및 순환전류: 병렬운전, 누설임피던스, 순환전류, 전압강하, 합성임피던스"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2014_2_13.png"
                  alt="변압기 부하 분담: 병렬운전, %임피던스, 용량 분담, 합성용량 계산"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2014_2_08.png"
                  alt="Y-△ 결선 변압기 접지: 다중접지계통, 중성점 부동, 공동접지, 역V결선, 과부하 위험"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2014_1_14.png"
                  alt="변압기 효율: V결선, 철손·동손, 전부하 운전, 역률, 효율 계산"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2014_1_15.png"
                  alt="승압기 V결선: 단상변압기 2대, 승압전압 계산, 결선도 작성"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2013_3_08.png"
                  alt="변압기 용량 산정: 부하별 수용률, 부등률, 종합최대전력, A~D 부하 합산"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2013_3_13.png"
                  alt="단상변압기 병렬운전 조건: 극성, 권수비, %임피던스, 내부저항/리액턴스 비, 순환전류·부하분담"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2013_3_02.png"
                  alt="변압기 효율 계산: 무부하손, 부하손, 전부하/반부하, 역률 100%·80%, 효율 공식"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2013_1_15.png"
                  alt="아몰퍼스 변압기, 철손, 여자전류, 포화자속, 경도"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2013_1_04.png"
                  alt="변전소, 변압기 사고, 상간단락, 절연파괴, 권선단선"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2013_1_05.png"
                  alt="T좌 결선, 스코트 결선, 3상→2상 변환, 단상변압기"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2012_2_13.png"
                  alt="△결선 승압기, 단권변압기, 용량산정"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2012_1_01.png"
                  alt="단권변압기, 승압기, 전압비, 역률, 자기용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2011_2_04.png"
                  alt="변압기 보호 계전기 : 부고장 보호장치, 비율차동계전기, 부흐홀쯔계전기, 유온계, 방압안전장치"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2011_1_16.png"
                  alt="주상변압기 탭 조정	탭전압, 1차/2차 권선비, 정격전압"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2011_1_17.png"
                  alt="몰드변압기 장점	난연성, 절연신뢰도, 유지보수"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2011_1_01.png"
                  alt="변압기 용량 산정	부등률, 부하역률, 표준용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2010_2_03.png"
                  alt="변압기 : 유입풍냉식, 무부하 탭 절환장치, 비율차동계전기, 무부하손 (히스테리시스손, 와류손)"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2010_2_12.png"
                  alt="변압기 가극성/감극성 결선 : △-△ 결선, 벡터합, 전압계 유기전압"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2010_1_12.png"
                  alt="변압기 호흡작용, 절연유, 수분 혼입, 콘서베이터"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2009_2_02.png"
                  alt="변압기 보호	브흐홀쯔 계전기, 가스 검출, 내부고장"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2009_1_09.png"
                  alt="변압기 냉각방식 : AA, OA, FA, OW, FOA, FOW, 냉각 방식 명칭, 자냉식, 풍냉식, 수냉식"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2008_2_19.png"
                  alt="변압기 효율, 손실, 최고효율"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2008_2_10.png"
                  alt="단권변압기, 승압기, 전압비, 부하, 자기용량"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2007_1_02.png"
                  alt="변압기 사고: 권선 단락·절연파괴·혼촉·단선·부싱 리드선 이상"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2007_2_06.png"
                  alt="몰드변압기, 유입변압기, 장점, 단점"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2006_1_10.png"
                  alt="변압기 효율 : 부하전류, 상전류, 동손, 철손, v결선"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
            <tr>
              <td>
                <img
                  src="..\images\2005_2_03.png"
                  alt="건식변압기 장점: 소형·경량, 절연 신뢰성, 난연성·자기소화성, 유지보수 용이"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="container2">
        <textarea id="srcList" readonly></textarea>
        <textarea id="srcListCode" readonly></textarea>
        <div class="button-container">
          <button onclick="copyToClipboard()">복사</button>
          <button onclick="clearAll()">삭제</button>
          <button onclick="inputNumbers()">숫자기입</button>
          <button onclick="deleteInputNumbers()">기입숫자제거</button>
        </div>
      </div>
    </div>

    <script>
      function updateSrcList() {
        const allRows = document.querySelectorAll("tbody tr");
        let combinedContent = "";
        let combinedContent1 = "";

        allRows.forEach((row) => {
          const image = row.querySelector("img");
          const contentTextarea = row.querySelector(".image-content");

          if (image && contentTextarea) {
            const src = image.getAttribute("src");
            const text = contentTextarea.value.trim();

            if (text !== "") {
              combinedContent += `주소: ${src}\n내용: ${text}\n\n`;
              combinedContent1 += `
            <tr>
              <td>
                <img
                              <tr>
              <td>
                <img
                  src="${src}"
                  alt="${text}"
                />
              </td>
              <td>
                <textarea
                  class="image-content"
                  oninput="updateSrcList()"
                ></textarea>
                <label for="label">label</label>
              </td>
            </tr>\n`;
            }
          }
        });

        document.getElementById("srcList").value = combinedContent;
        document.getElementById("srcListCode").value = combinedContent1;
      }
      function copyToClipboard() {
        const textarea = document.getElementById("srcList");
        textarea.select();
        document.execCommand("copy");
        alert("주소와 내용이 클립보드에 복사되었습니다.");
      }

      function clearAll() {
        const allTextareas = document.querySelectorAll(".image-content");
        allTextareas.forEach((textarea) => {
          textarea.value = "";
        });
        document.getElementById("srcList").value = "";
        alert("모든 내용이 초기화되었습니다.");
      }

      function inputNumbers() {
        const allRows = document.querySelectorAll("tbody tr");
        allRows.forEach((row, index) => {
          const indexNumber = index + 1;
          const textarea = row.querySelector("textarea.image-content");
          if (textarea) {
            textarea.value = indexNumber.toString();
          }
        });
      }

      // 이 함수는 텍스트 영역에 순서대로 기입된 숫자만 지우고, 다른 내용이 있으면 그대로 남깁니다.
      // 그리고 그 결과에 맞춰 srcListCode를 업데이트합니다.
      function deleteInputNumbers() {
        const allRows = document.querySelectorAll("tbody tr");

        allRows.forEach((row, index) => {
          const textarea = row.querySelector("textarea.image-content");

          if (textarea) {
            const expectedNumber = (index + 1).toString();
            const currentValue = textarea.value.trim();

            if (currentValue === expectedNumber) {
              textarea.value = "";
            }
          }
        });

        // 텍스트 영역 내용 변경 후 srcListCode를 다시 생성합니다.
        updateSrcList();
      }

      // 페이지 로드 시 모든 textarea의 placeholder를 설정하는 함수
      window.onload = function () {
        const allRows = document.querySelectorAll("tbody tr");
        allRows.forEach((row) => {
          const image = row.querySelector("img");
          const contentTextarea = row.querySelector(".image-content");
          const label = row.querySelector("label"); // Select the <label> element

          if (image && contentTextarea && label) {
            const altText = image.getAttribute("alt");
            contentTextarea.setAttribute("placeholder", altText); // Set the placeholder
            label.textContent = altText; // Set the label's text content
          }
        });
      };
    </script>
  </body>
</html>
